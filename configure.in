# $Id: configure.in,v 1.11 2002-07-22 18:51:31 yosimoto Exp $


AC_INIT(Makefile.am)
AM_INIT_AUTOMAKE(libcam1394, 0.1.2)
AM_CONFIG_HEADER(config.h)

AC_PROG_CXX
AC_PROG_CC
AC_PROG_CPP
AC_PROG_INSTALL
AC_PROG_LIBTOOL

AC_PATH_XTRA 
AC_HEADER_STDC
AC_CHECK_HEADERS([errno.h fcntl.h netinet/in.h string.h sys/ioctl.h unistd.h])
AC_CHECK_HEADERS(ipl.h)

AC_CHECK_LIB(popt,poptGetContext)
AC_LIB_RAW1394(0.9)
if test "$ac_libraw1394_found" != "yes"; then
	AC_MSG_ERROR( not found libraw1394(>=0.9) )
fi

# Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST
AC_C_INLINE
AC_TYPE_SIZE_T

# Checks for library functions.
AC_PROG_GCC_TRADITIONAL
AC_FUNC_MMAP
AC_CHECK_FUNCS([memset strcasecmp strerror strtol])

AC_ARG_ENABLE(debug,
[  --enable-debug            trun on debugging [default no]])
if test "$enable_debug" = "yes"; then
  CFLAGS="-DDEBUG $CFLAGS"
fi

lt_major=0
lt_revision=1
lt_age=0
AC_SUBST(lt_major)
AC_SUBST(lt_revision)
AC_SUBST(lt_age)
CFLAGS="$FLAGS -Wall -Wunused"

AC_OUTPUT([Makefile libcam1394/Makefile cam1394/Makefile])
